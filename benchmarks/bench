#!/usr/bin/lua5.3

require "config"
require "actions"

bench = {
    group = "";
    bench = "";
}

DEBUG = false;

actions = {
    ["help"] = helpMessage,
    ["build"] = buildBench,
    ["run"] = runBench,
    ["list"] = listBenchs,
    ["clean"] = cleanBench,
}

if DEBUG then
    for i, v in ipairs(arg) do
        print("arg[" .. i .. "] = " .. v)
    end
end

if type(arg[1]) ~= "string" or not actions[arg[1]] then
    print("Error, try './build help' to learn more")
    os.exit()
end

actions[arg[1]]()